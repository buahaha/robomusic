<h!DOCTYPE html>
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="Bleeps and sweeps. All the music that computer can do.">
    <meta name="keywords" content="Music">
    <meta name="author" content="Szymon Błaszczyński">
    <script src="./midi.js" type="text/javascript"></script>
    <script src="./Base64binary.js" type="text/javascript"></script>

  </head>
  <!-- midi notes from 21 (A0) to 108 (C8) -->
  <!-- C4 60 - B4 71 / C5 72-->
  <!-- C Major scale C (60), D (62), E (64), 
    F (65), G (67), A (69), B (70), C (71) -->
  <body>
    <p>The algorithm used to play musical notes on this website is solely owned by Szymon
       Błaszczyński, although you are free to use it as an inspiration source in
       the process of making music (I propose just to click the play button and wait
       until you're happy), also listening of the source is free of charge.
       Any other use of content of this webpage or it's source is strictly prohibited.

       <br /><br />So they say in great America - see ya in court.
    </p>
    <button id="button">play</button>
    <!-- TODO: tempo, scales, arps, and octaves, false keys, queue of scales and so  on -->
    <h2>The purpose of this project (robomusic.herokuapp.com) is to provide you
      with musical ideas that you can use, free of charge, in your musical pieces, by
      what I mean "stealing" or in other words copying and basing on the notes that my
      algorithm outputs after clicking the play button. This is the only way it is designed to be used.
    </h2>
    <p>Notes for lulzsec, lots of lulz, Anonymous and other hacking communities <small>it's free</small></p>
    <footer>Without this library it wouldn't be that easy for me - 
      <a href="https://github.com/mudcube/MIDI.js">MIDI.js</a></footer>
      <script type="text/javascript">

let midi = function() {
  MIDI.loadPlugin({
    soundfontUrl: "./soundfont/",
    instrument: "acoustic_grand_piano",
    onprogress: function(state, progress) {
      console.log(state, progress);
    },
    onsuccess: function() {
          
          let playNote = function(note) {
                  setInterval(function() {
                    MIDI.setVolume(0, 88);
                    let velocity = 100;
                    let delay = 0;
                    MIDI.noteOn(0, note, velocity, delay);
                    MIDI.noteOff(0, note, delay + 0.75);
                  }, 3000)
                }
          console.log("MIDI is ready to play")
          playNote(60)
          }
        });
      }

      let playButton = document.querySelector('#button');
      playButton.addEventListener('click', midi);
      
      </script>
  </body>
</html>